<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RangedListProduct.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">handistCollections</a> &gt; <a href="index.source.html" class="el_package">handist.collections</a> &gt; <span class="el_source">RangedListProduct.java</span></div><h1>RangedListProduct.java</h1><pre class="source lang-java linenums">package handist.collections;

import java.util.function.BiConsumer;
import java.util.function.Function;

import handist.collections.accumulator.Accumulator;
import handist.collections.accumulator.Accumulator.ThreadLocalAccumulator;
import handist.collections.dist.TeamedPlaceGroup;
import handist.collections.dist.util.Pair;
import handist.collections.function.MultiConsumer;
import handist.collections.function.TriConsumer;

/**
 * Factory class used to create new product instances and define common methods
 * for products.
 *
 * @author Patrick Finnerty
 *
 * @param &lt;S&gt; type carried by the first operand to the product
 * @param &lt;T&gt; type carried by the second operant to the product, may be
 *            identical to the first
 */
<span class="fc" id="L23">public abstract class RangedListProduct&lt;S, T&gt; implements AbstractSquareRangedList&lt;Pair&lt;S, T&gt;, RangedListProduct&lt;S, T&gt;&gt; {</span>

    /**
     * Creates a product between two ranged lists.
     *
     * @param &lt;S&gt;    type contained by the first list
     * @param &lt;T&gt;    type contained by the second list
     * @param first  first operand to the product
     * @param second second operand to the product
     * @return a product containing all the combination pairs possible from the two
     *         given arguments
     */
    public static &lt;S, T&gt; RangedListProduct&lt;S, T&gt; newProduct(RangedList&lt;S&gt; first, RangedList&lt;T&gt; second) {
<span class="fc" id="L36">        return new SimpleRangedListProduct&lt;&gt;(first, second);</span>
    }

    /**
     * Creates a product between two ranged lists containing all unique pairs (upper
     * triangle)
     *
     * @param &lt;S&gt;    type contained by the first list
     * @param &lt;T&gt;    type contained by the second list
     * @param first  first operand to the product
     * @param second second operand to the product
     * @return a product containing all the combination pairs possible from the two
     *         given arguments
     */
    public static &lt;S, T&gt; RangedListProduct&lt;S, T&gt; newProductTriangle(RangedList&lt;S&gt; first, RangedList&lt;T&gt; second) {
<span class="nc" id="L51">        return new SimpleRangedListProduct&lt;&gt;(first, second, true);</span>
    }

    /**
     * Contains is not supported by RangedListProduct.
     */
    @Deprecated
    @Override
    public boolean contains(Object v) {
<span class="nc" id="L60">        throw new UnsupportedOperationException(&quot;contains is not supported by RangedListProduct.&quot;);</span>
    }

    /**
     *
     * @param action action to perform with regards to all the pairs form by the
     *               first argument and the entries contained in the second argument
     */
    public abstract void forEachRow(BiConsumer&lt;S, RangedList&lt;T&gt;&gt; action);

    public &lt;A&gt; void parallelForEach(Accumulator&lt;A&gt; acc, BiConsumer&lt;Pair&lt;S, T&gt;, ThreadLocalAccumulator&lt;A&gt;&gt; action) {
<span class="nc" id="L71">        parallelForEach(acc, Runtime.getRuntime().availableProcessors(), action);</span>
<span class="nc" id="L72">    }</span>

    public abstract &lt;A&gt; void parallelForEach(Accumulator&lt;A&gt; acc, int parallelism,
            BiConsumer&lt;Pair&lt;S, T&gt;, ThreadLocalAccumulator&lt;A&gt;&gt; action);

    public abstract &lt;A, O&gt; void parallelForEachRow(Accumulator&lt;A&gt; acc, int parallelism,
            MultiConsumer&lt;S, RangedList&lt;T&gt;, ThreadLocalAccumulator&lt;A&gt;, O&gt; action, Function&lt;Integer, O&gt; oSupplier);

    public abstract &lt;A&gt; void parallelForEachRow(Accumulator&lt;A&gt; acc, int parallelism,
            TriConsumer&lt;S, RangedList&lt;T&gt;, ThreadLocalAccumulator&lt;A&gt;&gt; action);

    public abstract RangedListProduct&lt;S, T&gt; teamedSplit(int outer, int inner, TeamedPlaceGroup pg, long seed);
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>